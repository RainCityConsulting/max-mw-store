#set ($flash = $session.flash)

#if ($flash.hasAny())
<div class="flash">
  #if ($flash.hasErrors())
  <div class="errors">
    <ul>
    #foreach ($s in $flash.errors)
      <li>#springMessage($s)</li>
    #end
    </ul>
  </div>
  #end

  #if ($flash.hasWarnings())
  <div class="warnings">
    <ul>
    #foreach ($s in $flash.warnings)
      <li>#springMessage($s)</li>
    #end
    </ul>
  </div>
  #end
  
  #if ($flash.hasMessages())
  <div class="messages">
    <ul>
    #foreach ($s in $flash.messages)
      <li>#springMessage($s)</li>
    #end
    </ul>
  </div>
  #end
</div>
#end

<script type="text/javascript">
  $(function() {
    $("div.flash div.errors").dialog({title: "Errors", modal: true, position: "center"});
    $("div.flash div.warnings").dialog({title: "Warnings", modal: true, position: "center"});
    $("div.flash div.messages").dialog({title: "Messages", modal: false, position: "center"});
  });
</script>

$flash.clear()
